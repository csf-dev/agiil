<!DOCTYPE html>
<html lang="en" metal:use-macro="Views/Shared/StandardPage/macros/page">
<head>
<title metal:fill-slot="title_element">Tickets</title>
<style metal:fill-slot="extra_styles">
@import url('Content/Css/TicketList.css');
</style>
</head>
<body>
<div metal:fill-slot="page_content" class="page_content">
  <h1>Tickets</h1>
  <p>This is a list of the tickets which exist in the application.</p>
  <form action="Tickets/Index" method="get" class="agiil_query">
    <fieldset>
      <label for="query_text">Query</label>
      <input type="text" tal:attributes="value here/Query" value="ticket is open" name="q" id="query_text" />
      <input type="submit" value="Search" class="perform_search">
    </fieldset>
  </form>
  <table tal:define="tickets here/Tickets" class="ticket_list">
    <colgroup>
      <col class="reference" />
      <col class="title" />
      <col class="created_by" />
      <col class="created_date" />
    </colgroup>
    <thead>
      <tr>
        <th class="TicketReference">#</th>
        <th class="TicketTitle">Title</th>
        <th class="TicketCreator">Created by</th>
        <th class="TicketTimestamp">Date</th>
      </tr>
    </thead>
    <tbody>
      <tr tal:repeat="ticket tickets" tal:attributes="class ticket/GetHtmlClasses">
        <td tal:content="ticket/Reference"
            class="TicketReference">AB123</td>
        <td tal:define="url string:Ticket/Index/${ticket/Id}"
            class="TicketTitle">
          <a href="Ticket/Index/0"
             tal:attributes="href url"
             tal:content="ticket/Title"
             class="TicketLink">Ticket title here</a>
        </td>
        <td tal:content="ticket/Creator"
            class="TicketCreator">username</td>
        <td class="TicketTimestamp">
          <span tal:attributes="title ticket/CreationTimestamp"
                tal:content="ticket/ShortTimestamp"
                title="2011-01-01 12:13:43">4th May 2001</span>
        </td>
      </tr>
    </tbody>
  </table>
  <p>
    You can also <a href="NewTicket">create a new ticket</a>.
  </p>
</div>
</body>
</html>