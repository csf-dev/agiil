<html lang="en" metal:use-macro="Views/Shared/StandardPage/macros/page">
<head>
<title metal:fill-slot="title_element">Log in</title>
</head>
<body>
<div metal:fill-slot="page_content"
     tal:define="loginFailed here/LoginFailed;
                 loginSucceded here/LoginSucceded;
                 loginAttempted here/LoginAttempted;
                 username here/LoginState/Username | nothing">
  <h1>Log in</h1>
  <form method="post" action="Login/Login" tal:condition="not:username">
    <fieldset>
      <input type="hidden" name="ReturnUrl" value="/"
             tal:attributes="value here/ReturnUrl | nothing" />
      <div class="form_element field">
        <label for="Username">Username</label>
        <input type="text" id="Username" name="Username"
              tal:attributes="value here/EnteredCredentials/Username | nothing" />
      </div>
      <div class="form_element field">
        <label for="Password">Password</label>
        <input type="password" id="Password" name="Password" />
      </div>
      <div class="form_element feedback warning" tal:condition="loginFailed">
        <p>Please enter a valid username/password combination.</p>
      </div>
      <div class="form_element button">
        <button>Log in</button>
      </div>
    </fieldset>
  </form>
  <form method="post" action="Login/Logout" tal:condition="username">
    <fieldset>
      <p tal:condition="username">
        You are logged in as <strong tal:content="username">Joe Bloggs</strong>.
      </p>
      <div class="form_element button">
        <button>Log out</button>
      </div>
    </fieldset>
  </form>
</div>
</body>
</html>